{"version":3,"file":"main.js","mappings":"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","sources":["webpack://aikon-role-manager/./assets/src/js/modules/accordion.js","webpack://aikon-role-manager/./assets/src/js/modules/add-capability.js","webpack://aikon-role-manager/./assets/src/js/modules/capabilities.js","webpack://aikon-role-manager/./assets/src/js/modules/filter.js","webpack://aikon-role-manager/./assets/src/js/modules/roles.js","webpack://aikon-role-manager/./assets/src/js/modules/toggle-capability.js","webpack://aikon-role-manager/./assets/src/js/modules/toolbar_actions-capability.js","webpack://aikon-role-manager/./assets/src/css/main.css","webpack://aikon-role-manager/webpack/bootstrap","webpack://aikon-role-manager/webpack/runtime/define property getters","webpack://aikon-role-manager/webpack/runtime/hasOwnProperty shorthand","webpack://aikon-role-manager/webpack/runtime/make namespace object","webpack://aikon-role-manager/./assets/src/js/main.js"],"sourcesContent":["/**\n * Toggle accordion\n * @param {string} toggleSelector Accordion toggle selector\n * @returns {void}\n */\nexport function toggleAccordion(toggleSelector) {\n\n    const accordions = document.querySelectorAll(toggleSelector);\n\n    accordions.forEach(accordion => {\n        accordion.addEventListener('click', () => {\n            const parent = accordion.parentElement;\n            const is_open = parent.getAttribute('aria-expanded') === 'true';\n            parent.setAttribute('aria-expanded', !is_open ? 'true' : 'false');\n        });\n    });\n}","\n/**\n * Capability check box name.\n */\nconst checkBoxName = 'role_caps';\n\n/**\n * Add capability to the list.\n * @param {string} inputSelector Input selector.\n * @param {string} addBtnSelector Add button selector.\n * @param {string} listSelector List selector.\n * @returns void\n */\nexport function addNewCapability(inputSelector, addBtnSelector, listSelector) {\n\n    const input = document.querySelector(inputSelector)\n    const addBtn = document.querySelector(addBtnSelector);\n    const capabilitiesList = document.querySelector(listSelector);\n\n    addBtn.addEventListener('click', function() {\n        input.reportValidity();\n        if (!input.validity.valid) {\n            return;\n        }\n        const name = `role_caps[${input.value.trim()}]`;\n        capabilitiesList.appendChild(createCapabilityItem(input.value.trim(), name, capabilitiesList));\n        input.value = '';\n    });\n}\n\n\n/**\n * Create a new capability item.\n * @param {string} capability \n * @param {string} name\n * @param {HTMLUListElement} capabilityList\n * @returns HtmlElement\n */\nfunction createCapabilityItem(capability, name, capabilityList) {\n    const removeText = capabilityList.dataset.removeText || 'Remove';\n    const capabilityItem = document.createElement('li');\n    capabilityItem.innerHTML =\n        `<input type=\"hidden\" name=\"${name}\" value=\"0\"> \n        <label>\n            <input type=\"checkbox\" name=\"${name}\" value=\"1\">\n            ${capability}\n        </label>\n        <button\n            type=\"button\"\n            class=\"button button-small button-text-danger dashicons-before dashicons-trash\"\n        >${removeText}</button>`;\n    capabilityItem.classList.add('capability-item');\n    return capabilityItem;\n}\n\nexport function addCapabilityFromList(checkboxSelector, submitButtonSelector, listSelector) { \n    /** @type {NodeListOf<HTMLInputElement>} */\n    const checkBoxes = document.querySelectorAll(checkboxSelector);\n\n    /** @type {HTMLButtonElement} */\n    const submitButton = document.querySelector(submitButtonSelector);\n\n    /** @type {HTMLUListElement} */\n    const list = document.querySelector(listSelector);\n\n    if (!checkBoxes || !submitButton || !list) {\n        console.warn('Aikon Role Manager: One or more elements not found in addCapabilityFromList()');\n        return;\n    }\n\n    submitButton.disabled = true;\n\n    const checkHasChecked  = () => {\n        // Loop through all checkboxes and check if any is checked\n        const checkedCount = [...checkBoxes].filter(input => input.checked).length;\n        return checkedCount > 0;\n    }\n\n    checkBoxes.forEach((box)=>{\n        box.addEventListener('change', () => {\n            submitButton.disabled = !checkHasChecked();\n        });\n    });\n\n    submitButton.addEventListener('click', (e) => {\n        const checked = [...checkBoxes].filter(input => input.checked);\n        checked.forEach((checkbox) => {\n            const capname = checkbox.parentElement.textContent.trim()\n            list.appendChild(createCapabilityItem(capname, checkbox.name, list));\n            checkbox.checked = false\n            checkbox.disabled = true;\n        });\n        submitButton.disabled = true;\n    });\n}","import { toggleAccordion } from \"./accordion\";\nimport { quickFilter } from \"./filter\";\nimport { addCapabilityFromList, addNewCapability } from \"./add-capability\";\nimport { capabilityToggle } from \"./toggle-capability\";\nimport { initToggleAllCapabilities } from \"./toolbar_actions-capability\";\n\n\n/**\n * @typedef {Object} DefaultConfig\n * @property {Object} quickFilter - Configuration for the quick filter.\n * @property {string} quickFilter.inputSelector - Selector for the quick filter input element.\n * @property {string} quickFilter.listItemsSelector - Selector for the list items to be filtered.\n * @property {string} quickFilter.wrapperSelector - Selector for the wrapper element containing the list.\n * @property {Object} addNewCapability - Configuration for adding a new capability.\n * @property {string} addNewCapability.inputSelector - Selector for the input element for adding a new capability.\n * @property {string} addNewCapability.addBtnSelector - Selector for the button to add a new capability.\n * @property {string} capabilityListSelector - Selector for the capability list.\n * @property {string} accordionToggleSelector - Selector for the accordion toggle elements.\n * \n * @param {DefaultConfig} config\n */\nexport function capabilitiesInit( config ) {\n\t\n\tconst defaultConfig = {\n\t\tquickFilter: {\n\t\t\tinputSelector: '#capability-filter',\n\t\t\tlistItemsSelector: '#capability-list li, #add-capabilities-list li',\n\t\t\twrapperSelector: '#nav-menus-frame'\n\t\t},\n\t\tcapabilityListSelector: '#capability-list',\n\t\tcapabilityListToggleSelector: 'button',\n\t\taddNewCapability: {\n\t\t\tinputSelector: '#new-capability',\n\t\t\taddBtnSelector: '#add-capability',\n\t\t},\n\t\taddCapabilityFromList: {\n\t\t\tcheckboxSelector: '#add-capabilities-list input[type=\"checkbox\"]',\n\t\t\tsubmitButtonSelector: '#add-capabilities',\n\t\t},\n\t\taccordionToggleSelector: '.arm-postbox-accordion-header',\n\n\t};\n\n\tconfig = {\n        ...defaultConfig,\n        ...config,\n    };\n\n\taddNewCapability(\n\t\tconfig.addNewCapability.inputSelector, \n\t\tconfig.addNewCapability.addBtnSelector, \n\t\tconfig.capabilityListSelector\n\t);\n\taddCapabilityFromList(\n\t\tconfig.addCapabilityFromList.checkboxSelector, \n\t\tconfig.addCapabilityFromList.submitButtonSelector, \n\t\tconfig.capabilityListSelector\n\t);\n\tcapabilityToggle(\n\t\tconfig.capabilityListSelector, \n\t\tconfig.capabilityListToggleSelector\n\t)\n\tquickFilter(\n\t\tconfig.quickFilter.inputSelector, \n\t\tconfig.quickFilter.listItemsSelector,\n\t\tconfig.quickFilter.wrapperSelector\n\t);\n\n\ttoggleAccordion(config.accordionToggleSelector);\n\tinitToggleAllCapabilities();\n}","\n/**\n * Filter capabilities\n * @param {NodeList} capabilityListItems List items to filter\n * @param {String} search Search string\n * @returns {void}\n */\nfunction filterCapabilities(capabilityListItems, search) {\n    const capabilities = capabilityListItems;\n\n    capabilities.forEach(function(capability) {\n        capability.style.display = 'block';\n    });\n\n    if (!search) {\n        return;\n    }\n\n    capabilities.forEach(function(capability) {\n        const text = capability.textContent.toLowerCase();\n        const match = text.indexOf(search) !== -1;\n        capability.style.display = match ? 'block' : 'none';\n    });\n}\n\n/**\n * Quick filter for list items\n * @param {String} searchFormSelector Search form selector, expects single element\n * @param {String} listItemsSelector List items selector, expects multiple elements\n * @param {String} wrapperSelector Wrapper selector, expects single element\n * @returns {void}\n */\nfunction quickFilter(searchFormSelector, listItemsSelector, wrapperSelector) {\n\n    const capabilitySearch = document.querySelector(searchFormSelector);\n    const capabilityListItems = document.querySelectorAll(listItemsSelector);\n    const wrapper = document.querySelector(wrapperSelector);\n\n    if(!capabilitySearch || !capabilityListItems) {\n        return;\n    }\n\n    capabilitySearch.addEventListener('input', (_e) => {\n        const search = capabilitySearch.value.toLowerCase();\n        if(search.length < 2) {\n            filterCapabilities(capabilityListItems, null);\n            wrapper.setAttribute('aria-expand-all', 'false');\n            return;\n        }\n        filterCapabilities(capabilityListItems, search);\n        wrapper.setAttribute('aria-expand-all', 'true');\n    });\n}\n\nexport { quickFilter };","\n/**\n * @param {PointerEvent} e \n */\nexport function deleteRole(e) {\n\n    const link = e.target;\n    const url = link.dataset.action;\n    const msg = link.dataset.confirmationmessage;\n\n    if (!confirm(msg)) {\n        return;\n    }\n\n    window.location = url;\n}\n\n/**\n * @typedef {Object} DefaultConfig\n * @property {string} deleteSelector - Selectior for the delete role button.\n *\n * @param {object} config \n */\nexport function rolesInit(config) {\n\n    const defaultConfig = {\n        deleteSelector: '.delete_role_button',\n    };\n\n    config = {\n        ...defaultConfig,\n        ...config,\n    };\n\n    const deleteLinks = document.querySelectorAll(config.deleteSelector);\n    deleteLinks.forEach(link => {\n        link.addEventListener('click', deleteRole);\n    });\n\n}","\n/**\n * \n * @param {string} capabilityListSelector \n * @param {string} accordionToggleSelector \n * @returns void\n */\nexport function capabilityToggle(capabilityListSelector, accordionToggleSelector) {\n    const capabilityList = document.querySelector(capabilityListSelector);\n\n    if (!capabilityList) {\n        return;\n    }\n\n    \n    capabilityList.addEventListener('click', function(e) {\n        const removeText = capabilityList.dataset.removeText || 'Remove';\n        const restoreText = capabilityList.dataset.restoreText || 'Restore';\n\n        if (e.target.tagName !== 'BUTTON') {\n            return;\n        }\n        const deleteName = 'delete__';\n        const parent = e.target.parentElement;\n        const checkbox = parent.querySelector('input[type=\"checkbox\"]');\n        const hidden = parent.querySelector('input[type=\"hidden\"]');\n        let name = hidden.name;\n\n        const isDelete = name.includes(deleteName);\n\n        if (isDelete) {\n            name = name.replace(deleteName, '');\n            checkbox.name = name;\n            hidden.name = name;\n            checkbox.disabled = false\n            e.target.innerHTML = removeText;\n        } else {\n            name = deleteName + name;\n            checkbox.name = name;\n            hidden.name = name;\n            checkbox.disabled = true;\n            e.target.innerHTML = restoreText;\n        }\n        console.dir({ name, checkbox, hidden, isDelete });\n    });\n}\n","/**\n * Toolbar Actions for Capabilities\n */\n\n\n/**\n * Toggle all capabilities checkboxes\n */\nexport function initToggleAllCapabilities() {\n    const checkAll = document.querySelector('.arm_roles-manager-form-toolbar #check-all');\n    const uncheckAll = document.querySelector('.arm_roles-manager-form-toolbar #check-none');\n\n    if (!checkAll || !uncheckAll) {\n        return;\n    }\n\n    checkAll.addEventListener('click', () => {\n        getCheckboxes().forEach(checkbox => {\n            checkbox.checked = true;\n        });\n    });\n\n    uncheckAll.addEventListener('click', () => {\n        getCheckboxes().forEach(checkbox => {\n            checkbox.checked = false;\n        });\n    });\n}\n\n/**\n * Get all checkboxes in the toolbar\n * @returns {NodeListOf<HTMLInputElement>}\n */\nfunction getCheckboxes() {\n    return document.querySelectorAll('#capability-list .capability-item input[type=\"checkbox\"]');\n}","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../css/main.css';\n\nimport { rolesInit } from './modules/roles';\nimport { capabilitiesInit } from './modules/capabilities';\n\nwindow.addEventListener( 'load', () => {\n\trolesInit();\n\tcapabilitiesInit();\n} );\n"],"names":["toggleAccordion","toggleSelector","accordions","document","querySelectorAll","forEach","accordion","addEventListener","parent","parentElement","is_open","getAttribute","setAttribute","checkBoxName","addNewCapability","inputSelector","addBtnSelector","listSelector","input","querySelector","addBtn","capabilitiesList","reportValidity","validity","valid","name","value","trim","appendChild","createCapabilityItem","capability","capabilityList","removeText","dataset","capabilityItem","createElement","innerHTML","classList","add","addCapabilityFromList","checkboxSelector","submitButtonSelector","checkBoxes","submitButton","list","console","warn","disabled","checkHasChecked","checkedCount","filter","checked","length","box","e","checkbox","capname","textContent","quickFilter","capabilityToggle","initToggleAllCapabilities","capabilitiesInit","config","defaultConfig","listItemsSelector","wrapperSelector","capabilityListSelector","capabilityListToggleSelector","accordionToggleSelector","filterCapabilities","capabilityListItems","search","capabilities","style","display","text","toLowerCase","match","indexOf","searchFormSelector","capabilitySearch","wrapper","_e","deleteRole","link","target","url","action","msg","confirmationmessage","confirm","window","location","rolesInit","deleteSelector","deleteLinks","restoreText","tagName","deleteName","hidden","isDelete","includes","replace","dir","checkAll","uncheckAll","getCheckboxes"],"sourceRoot":""}