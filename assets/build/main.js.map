{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACO,SAASA,eAAeA,CAACC,cAAc,EAAE;EAE5C,MAAMC,UAAU,GAAGC,QAAQ,CAACC,gBAAgB,CAACH,cAAc,CAAC;EAE5DC,UAAU,CAACG,OAAO,CAACC,SAAS,IAAI;IAC5BA,SAAS,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;MACtC,MAAMC,MAAM,GAAGF,SAAS,CAACG,aAAa;MACtC,MAAMC,OAAO,GAAGF,MAAM,CAACG,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM;MAC/DH,MAAM,CAACI,YAAY,CAAC,eAAe,EAAE,CAACF,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC;IACrE,CAAC,CAAC;EACN,CAAC,CAAC;AACN;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA,MAAMG,YAAY,GAAG,WAAW;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,gBAAgBA,CAACC,aAAa,EAAEC,cAAc,EAAEC,YAAY,EAAE;EAE1E,MAAMC,KAAK,GAAGf,QAAQ,CAACgB,aAAa,CAACJ,aAAa,CAAC;EACnD,MAAMK,MAAM,GAAGjB,QAAQ,CAACgB,aAAa,CAACH,cAAc,CAAC;EACrD,MAAMK,gBAAgB,GAAGlB,QAAQ,CAACgB,aAAa,CAACF,YAAY,CAAC;EAE7DG,MAAM,CAACb,gBAAgB,CAAC,OAAO,EAAE,YAAW;IACxCW,KAAK,CAACI,cAAc,CAAC,CAAC;IACtB,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,KAAK,EAAE;MACvB;IACJ;IACA,MAAMC,IAAI,GAAG,aAAaP,KAAK,CAACQ,KAAK,CAACC,IAAI,CAAC,CAAC,GAAG;IAC/CN,gBAAgB,CAACO,WAAW,CAACC,oBAAoB,CAACX,KAAK,CAACQ,KAAK,CAACC,IAAI,CAAC,CAAC,EAAEF,IAAI,EAAEJ,gBAAgB,CAAC,CAAC;IAC9FH,KAAK,CAACQ,KAAK,GAAG,EAAE;EACpB,CAAC,CAAC;AACN;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,oBAAoBA,CAACC,UAAU,EAAEL,IAAI,EAAEM,cAAc,EAAE;EAC5D,MAAMC,UAAU,GAAGD,cAAc,CAACE,OAAO,CAACD,UAAU,IAAI,QAAQ;EAChE,MAAME,cAAc,GAAG/B,QAAQ,CAACgC,aAAa,CAAC,IAAI,CAAC;EACnDD,cAAc,CAACE,SAAS,GACpB,8BAA8BX,IAAI;AAC1C;AACA,2CAA2CA,IAAI;AAC/C,cAAcK,UAAU;AACxB;AACA;AACA;AACA;AACA,WAAWE,UAAU,WAAW;EAE5B,OAAOE,cAAc;AACzB;AAEO,SAASG,qBAAqBA,CAACC,gBAAgB,EAAEC,oBAAoB,EAAEtB,YAAY,EAAE;EACxF;EACA,MAAMuB,UAAU,GAAGrC,QAAQ,CAACC,gBAAgB,CAACkC,gBAAgB,CAAC;;EAE9D;EACA,MAAMG,YAAY,GAAGtC,QAAQ,CAACgB,aAAa,CAACoB,oBAAoB,CAAC;;EAEjE;EACA,MAAMG,IAAI,GAAGvC,QAAQ,CAACgB,aAAa,CAACF,YAAY,CAAC;EAEjD,IAAI,CAACuB,UAAU,IAAI,CAACC,YAAY,IAAI,CAACC,IAAI,EAAE;IACvCC,OAAO,CAACC,IAAI,CAAC,+EAA+E,CAAC;IAC7F;EACJ;EAEAH,YAAY,CAACI,QAAQ,GAAG,IAAI;EAE5B,MAAMC,eAAe,GAAIA,CAAA,KAAM;IAC3B;IACA,MAAMC,YAAY,GAAG,CAAC,GAAGP,UAAU,CAAC,CAACQ,MAAM,CAAC9B,KAAK,IAAIA,KAAK,CAAC+B,OAAO,CAAC,CAACC,MAAM;IAC1E,OAAOH,YAAY,GAAG,CAAC;EAC3B,CAAC;EAEDP,UAAU,CAACnC,OAAO,CAAE8C,GAAG,IAAG;IACtBA,GAAG,CAAC5C,gBAAgB,CAAC,QAAQ,EAAE,MAAM;MACjCkC,YAAY,CAACI,QAAQ,GAAG,CAACC,eAAe,CAAC,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC,CAAC;EAEFL,YAAY,CAAClC,gBAAgB,CAAC,OAAO,EAAG6C,CAAC,IAAK;IAC1C,MAAMH,OAAO,GAAG,CAAC,GAAGT,UAAU,CAAC,CAACQ,MAAM,CAAC9B,KAAK,IAAIA,KAAK,CAAC+B,OAAO,CAAC;IAC9DA,OAAO,CAAC5C,OAAO,CAAEgD,QAAQ,IAAK;MAC1B,MAAMC,OAAO,GAAGD,QAAQ,CAAC5C,aAAa,CAAC8C,WAAW,CAAC5B,IAAI,CAAC,CAAC;MACzDe,IAAI,CAACd,WAAW,CAACC,oBAAoB,CAACyB,OAAO,EAAED,QAAQ,CAAC5B,IAAI,EAAEiB,IAAI,CAAC,CAAC;MACpEW,QAAQ,CAACJ,OAAO,GAAG,KAAK;MACxBI,QAAQ,CAACR,QAAQ,GAAG,IAAI;IAC5B,CAAC,CAAC;IACFJ,YAAY,CAACI,QAAQ,GAAG,IAAI;EAChC,CAAC,CAAC;AACN;;;;;;;;;;;;;;;;;;AC9F8C;AACP;AACoC;AACpB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASa,gBAAgBA,CAAEC,MAAM,EAAG;EAE1C,MAAMC,aAAa,GAAG;IACrBJ,WAAW,EAAE;MACZzC,aAAa,EAAE,oBAAoB;MACnC8C,iBAAiB,EAAE,gDAAgD;MACnEC,eAAe,EAAE;IAClB,CAAC;IACDC,sBAAsB,EAAE,kBAAkB;IAC1CC,4BAA4B,EAAE,QAAQ;IACtClD,gBAAgB,EAAE;MACjBC,aAAa,EAAE,iBAAiB;MAChCC,cAAc,EAAE;IACjB,CAAC;IACDqB,qBAAqB,EAAE;MACtBC,gBAAgB,EAAE,+CAA+C;MACjEC,oBAAoB,EAAE;IACvB,CAAC;IACD0B,uBAAuB,EAAE;EAE1B,CAAC;EAEDN,MAAM,GAAG;IACF,GAAGC,aAAa;IAChB,GAAGD;EACP,CAAC;EAEJ7C,iEAAgB,CACf6C,MAAM,CAAC7C,gBAAgB,CAACC,aAAa,EACrC4C,MAAM,CAAC7C,gBAAgB,CAACE,cAAc,EACtC2C,MAAM,CAACI,sBACR,CAAC;EACD1B,sEAAqB,CACpBsB,MAAM,CAACtB,qBAAqB,CAACC,gBAAgB,EAC7CqB,MAAM,CAACtB,qBAAqB,CAACE,oBAAoB,EACjDoB,MAAM,CAACI,sBACR,CAAC;EACDN,oEAAgB,CACfE,MAAM,CAACI,sBAAsB,EAC7BJ,MAAM,CAACK,4BACR,CAAC;EACDR,oDAAW,CACVG,MAAM,CAACH,WAAW,CAACzC,aAAa,EAChC4C,MAAM,CAACH,WAAW,CAACK,iBAAiB,EACpCF,MAAM,CAACH,WAAW,CAACM,eACpB,CAAC;EAED9D,2DAAe,CAAC2D,MAAM,CAACM,uBAAuB,CAAC;AAChD;;;;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,kBAAkBA,CAACC,mBAAmB,EAAEC,MAAM,EAAE;EACrD,MAAMC,YAAY,GAAGF,mBAAmB;EAExCE,YAAY,CAAChE,OAAO,CAAC,UAASyB,UAAU,EAAE;IACtCA,UAAU,CAACwC,KAAK,CAACC,OAAO,GAAG,OAAO;EACtC,CAAC,CAAC;EAEF,IAAI,CAACH,MAAM,EAAE;IACT;EACJ;EAEAC,YAAY,CAAChE,OAAO,CAAC,UAASyB,UAAU,EAAE;IACtC,MAAM0C,IAAI,GAAG1C,UAAU,CAACyB,WAAW,CAACkB,WAAW,CAAC,CAAC;IACjD,MAAMC,KAAK,GAAGF,IAAI,CAACG,OAAO,CAACP,MAAM,CAAC,KAAK,CAAC,CAAC;IACzCtC,UAAU,CAACwC,KAAK,CAACC,OAAO,GAAGG,KAAK,GAAG,OAAO,GAAG,MAAM;EACvD,CAAC,CAAC;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASlB,WAAWA,CAACoB,kBAAkB,EAAEf,iBAAiB,EAAEC,eAAe,EAAE;EAEzE,MAAMe,gBAAgB,GAAG1E,QAAQ,CAACgB,aAAa,CAACyD,kBAAkB,CAAC;EACnE,MAAMT,mBAAmB,GAAGhE,QAAQ,CAACC,gBAAgB,CAACyD,iBAAiB,CAAC;EACxE,MAAMiB,OAAO,GAAG3E,QAAQ,CAACgB,aAAa,CAAC2C,eAAe,CAAC;EAEvD,IAAG,CAACe,gBAAgB,IAAI,CAACV,mBAAmB,EAAE;IAC1C;EACJ;EAEAU,gBAAgB,CAACtE,gBAAgB,CAAC,OAAO,EAAGwE,EAAE,IAAK;IAC/C,MAAMX,MAAM,GAAGS,gBAAgB,CAACnD,KAAK,CAAC+C,WAAW,CAAC,CAAC;IACnD,IAAGL,MAAM,CAAClB,MAAM,GAAG,CAAC,EAAE;MAClBgB,kBAAkB,CAACC,mBAAmB,EAAE,IAAI,CAAC;MAC7CW,OAAO,CAAClE,YAAY,CAAC,iBAAiB,EAAE,OAAO,CAAC;MAChD;IACJ;IACAsD,kBAAkB,CAACC,mBAAmB,EAAEC,MAAM,CAAC;IAC/CU,OAAO,CAAClE,YAAY,CAAC,iBAAiB,EAAE,MAAM,CAAC;EACnD,CAAC,CAAC;AACN;;;;;;;;;;;;;;;;ACnDA;AACA;AACA;AACO,SAASoE,UAAUA,CAAC5B,CAAC,EAAE;EAE1B,MAAM6B,IAAI,GAAG7B,CAAC,CAAC8B,MAAM;EACrB,MAAMC,GAAG,GAAGF,IAAI,CAAChD,OAAO,CAACmD,MAAM;EAC/B,MAAMC,GAAG,GAAGJ,IAAI,CAAChD,OAAO,CAACqD,mBAAmB;EAE5C,IAAI,CAACC,OAAO,CAACF,GAAG,CAAC,EAAE;IACf;EACJ;EAEAG,MAAM,CAACC,QAAQ,GAAGN,GAAG;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASO,SAASA,CAAC/B,MAAM,EAAE;EAE9B,MAAMC,aAAa,GAAG;IAClB+B,cAAc,EAAE;EACpB,CAAC;EAEDhC,MAAM,GAAG;IACL,GAAGC,aAAa;IAChB,GAAGD;EACP,CAAC;EAED,MAAMiC,WAAW,GAAGzF,QAAQ,CAACC,gBAAgB,CAACuD,MAAM,CAACgC,cAAc,CAAC;EACpEC,WAAW,CAACvF,OAAO,CAAC4E,IAAI,IAAI;IACxBA,IAAI,CAAC1E,gBAAgB,CAAC,OAAO,EAAEyE,UAAU,CAAC;EAC9C,CAAC,CAAC;AAEN;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACO,SAASvB,gBAAgBA,CAACM,sBAAsB,EAAEE,uBAAuB,EAAE;EAC9E,MAAMlC,cAAc,GAAG5B,QAAQ,CAACgB,aAAa,CAAC4C,sBAAsB,CAAC;EAErE,IAAI,CAAChC,cAAc,EAAE;IACjB;EACJ;EAGAA,cAAc,CAACxB,gBAAgB,CAAC,OAAO,EAAE,UAAS6C,CAAC,EAAE;IACjD,MAAMpB,UAAU,GAAGD,cAAc,CAACE,OAAO,CAACD,UAAU,IAAI,QAAQ;IAChE,MAAM6D,WAAW,GAAG9D,cAAc,CAACE,OAAO,CAAC4D,WAAW,IAAI,SAAS;IAEnE,IAAIzC,CAAC,CAAC8B,MAAM,CAACY,OAAO,KAAK,QAAQ,EAAE;MAC/B;IACJ;IACA,MAAMC,UAAU,GAAG,UAAU;IAC7B,MAAMvF,MAAM,GAAG4C,CAAC,CAAC8B,MAAM,CAACzE,aAAa;IACrC,MAAM4C,QAAQ,GAAG7C,MAAM,CAACW,aAAa,CAAC,wBAAwB,CAAC;IAC/D,MAAM6E,MAAM,GAAGxF,MAAM,CAACW,aAAa,CAAC,sBAAsB,CAAC;IAC3D,IAAIM,IAAI,GAAGuE,MAAM,CAACvE,IAAI;IAEtB,MAAMwE,QAAQ,GAAGxE,IAAI,CAACyE,QAAQ,CAACH,UAAU,CAAC;IAE1C,IAAIE,QAAQ,EAAE;MACVxE,IAAI,GAAGA,IAAI,CAAC0E,OAAO,CAACJ,UAAU,EAAE,EAAE,CAAC;MACnC1C,QAAQ,CAAC5B,IAAI,GAAGA,IAAI;MACpBuE,MAAM,CAACvE,IAAI,GAAGA,IAAI;MAClB4B,QAAQ,CAACR,QAAQ,GAAG,KAAK;MACzBO,CAAC,CAAC8B,MAAM,CAAC9C,SAAS,GAAGJ,UAAU;IACnC,CAAC,MAAM;MACHP,IAAI,GAAGsE,UAAU,GAAGtE,IAAI;MACxB4B,QAAQ,CAAC5B,IAAI,GAAGA,IAAI;MACpBuE,MAAM,CAACvE,IAAI,GAAGA,IAAI;MAClB4B,QAAQ,CAACR,QAAQ,GAAG,IAAI;MACxBO,CAAC,CAAC8B,MAAM,CAAC9C,SAAS,GAAGyD,WAAW;IACpC;IACAlD,OAAO,CAACyD,GAAG,CAAC;MAAE3E,IAAI;MAAE4B,QAAQ;MAAE2C,MAAM;MAAEC;IAAS,CAAC,CAAC;EACrD,CAAC,CAAC;AACN;;;;;;;;;;;AC7CA;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNyB;AAEmB;AACc;AAE1DT,MAAM,CAACjF,gBAAgB,CAAE,MAAM,EAAE,MAAM;EACtCmF,yDAAS,CAAC,CAAC;EACXhC,uEAAgB,CAAC,CAAC;AACnB,CAAE,CAAC,C","sources":["webpack://aikon-role-manager/./assets/src/js/modules/accordion.js","webpack://aikon-role-manager/./assets/src/js/modules/add-capability.js","webpack://aikon-role-manager/./assets/src/js/modules/capabilities.js","webpack://aikon-role-manager/./assets/src/js/modules/filter.js","webpack://aikon-role-manager/./assets/src/js/modules/roles.js","webpack://aikon-role-manager/./assets/src/js/modules/toggle-capability.js","webpack://aikon-role-manager/./assets/src/css/main.css","webpack://aikon-role-manager/webpack/bootstrap","webpack://aikon-role-manager/webpack/runtime/define property getters","webpack://aikon-role-manager/webpack/runtime/hasOwnProperty shorthand","webpack://aikon-role-manager/webpack/runtime/make namespace object","webpack://aikon-role-manager/./assets/src/js/main.js"],"sourcesContent":["/**\n * Toggle accordion\n * @param {string} toggleSelector Accordion toggle selector\n * @returns {void}\n */\nexport function toggleAccordion(toggleSelector) {\n\n    const accordions = document.querySelectorAll(toggleSelector);\n\n    accordions.forEach(accordion => {\n        accordion.addEventListener('click', () => {\n            const parent = accordion.parentElement;\n            const is_open = parent.getAttribute('aria-expanded') === 'true';\n            parent.setAttribute('aria-expanded', !is_open ? 'true' : 'false');\n        });\n    });\n}","\n/**\n * Capability check box name.\n */\nconst checkBoxName = 'role_caps';\n\n/**\n * Add capability to the list.\n * @param {string} inputSelector Input selector.\n * @param {string} addBtnSelector Add button selector.\n * @param {string} listSelector List selector.\n * @returns void\n */\nexport function addNewCapability(inputSelector, addBtnSelector, listSelector) {\n\n    const input = document.querySelector(inputSelector)\n    const addBtn = document.querySelector(addBtnSelector);\n    const capabilitiesList = document.querySelector(listSelector);\n\n    addBtn.addEventListener('click', function() {\n        input.reportValidity();\n        if (!input.validity.valid) {\n            return;\n        }\n        const name = `role_caps[${input.value.trim()}]`;\n        capabilitiesList.appendChild(createCapabilityItem(input.value.trim(), name, capabilitiesList));\n        input.value = '';\n    });\n}\n\n\n/**\n * Create a new capability item.\n * @param {string} capability \n * @param {string} name\n * @param {HTMLUListElement} capabilityList\n * @returns HtmlElement\n */\nfunction createCapabilityItem(capability, name, capabilityList) {\n    const removeText = capabilityList.dataset.removeText || 'Remove';\n    const capabilityItem = document.createElement('li');\n    capabilityItem.innerHTML =\n        `<input type=\"hidden\" name=\"${name}\" value=\"0\"> \n        <label>\n            <input type=\"checkbox\" name=\"${name}\" value=\"1\">\n            ${capability}\n        </label>\n        <button\n            type=\"button\"\n            class=\"button button-small button-text-danger dashicons-before dashicons-trash\"\n        >${removeText}</button>`;\n\n    return capabilityItem;\n}\n\nexport function addCapabilityFromList(checkboxSelector, submitButtonSelector, listSelector) { \n    /** @type {NodeListOf<HTMLInputElement>} */\n    const checkBoxes = document.querySelectorAll(checkboxSelector);\n\n    /** @type {HTMLButtonElement} */\n    const submitButton = document.querySelector(submitButtonSelector);\n\n    /** @type {HTMLUListElement} */\n    const list = document.querySelector(listSelector);\n\n    if (!checkBoxes || !submitButton || !list) {\n        console.warn('Aikon Role Manager: One or more elements not found in addCapabilityFromList()');\n        return;\n    }\n\n    submitButton.disabled = true;\n\n    const checkHasChecked  = () => {\n        // Loop through all checkboxes and check if any is checked\n        const checkedCount = [...checkBoxes].filter(input => input.checked).length;\n        return checkedCount > 0;\n    }\n\n    checkBoxes.forEach((box)=>{\n        box.addEventListener('change', () => {\n            submitButton.disabled = !checkHasChecked();\n        });\n    });\n\n    submitButton.addEventListener('click', (e) => {\n        const checked = [...checkBoxes].filter(input => input.checked);\n        checked.forEach((checkbox) => {\n            const capname = checkbox.parentElement.textContent.trim()\n            list.appendChild(createCapabilityItem(capname, checkbox.name, list));\n            checkbox.checked = false\n            checkbox.disabled = true;\n        });\n        submitButton.disabled = true;\n    });\n}","import { toggleAccordion } from \"./accordion\";\nimport { quickFilter } from \"./filter\";\nimport { addCapabilityFromList, addNewCapability } from \"./add-capability\";\nimport { capabilityToggle } from \"./toggle-capability\";\n\n/**\n * @typedef {Object} DefaultConfig\n * @property {Object} quickFilter - Configuration for the quick filter.\n * @property {string} quickFilter.inputSelector - Selector for the quick filter input element.\n * @property {string} quickFilter.listItemsSelector - Selector for the list items to be filtered.\n * @property {string} quickFilter.wrapperSelector - Selector for the wrapper element containing the list.\n * @property {Object} addNewCapability - Configuration for adding a new capability.\n * @property {string} addNewCapability.inputSelector - Selector for the input element for adding a new capability.\n * @property {string} addNewCapability.addBtnSelector - Selector for the button to add a new capability.\n * @property {string} capabilityListSelector - Selector for the capability list.\n * @property {string} accordionToggleSelector - Selector for the accordion toggle elements.\n * \n * @param {DefaultConfig} config\n */\nexport function capabilitiesInit( config ) {\n\t\n\tconst defaultConfig = {\n\t\tquickFilter: {\n\t\t\tinputSelector: '#capability-filter',\n\t\t\tlistItemsSelector: '#capability-list li, #add-capabilities-list li',\n\t\t\twrapperSelector: '#nav-menus-frame'\n\t\t},\n\t\tcapabilityListSelector: '#capability-list',\n\t\tcapabilityListToggleSelector: 'button',\n\t\taddNewCapability: {\n\t\t\tinputSelector: '#new-capability',\n\t\t\taddBtnSelector: '#add-capability',\n\t\t},\n\t\taddCapabilityFromList: {\n\t\t\tcheckboxSelector: '#add-capabilities-list input[type=\"checkbox\"]',\n\t\t\tsubmitButtonSelector: '#add-capabilities',\n\t\t},\n\t\taccordionToggleSelector: '.arm-postbox-accordion-header',\n\n\t};\n\n\tconfig = {\n        ...defaultConfig,\n        ...config,\n    };\n\n\taddNewCapability(\n\t\tconfig.addNewCapability.inputSelector, \n\t\tconfig.addNewCapability.addBtnSelector, \n\t\tconfig.capabilityListSelector\n\t);\n\taddCapabilityFromList(\n\t\tconfig.addCapabilityFromList.checkboxSelector, \n\t\tconfig.addCapabilityFromList.submitButtonSelector, \n\t\tconfig.capabilityListSelector\n\t);\n\tcapabilityToggle(\n\t\tconfig.capabilityListSelector, \n\t\tconfig.capabilityListToggleSelector\n\t)\n\tquickFilter(\n\t\tconfig.quickFilter.inputSelector, \n\t\tconfig.quickFilter.listItemsSelector,\n\t\tconfig.quickFilter.wrapperSelector\n\t);\n\n\ttoggleAccordion(config.accordionToggleSelector);\n}","\n/**\n * Filter capabilities\n * @param {NodeList} capabilityListItems List items to filter\n * @param {String} search Search string\n * @returns {void}\n */\nfunction filterCapabilities(capabilityListItems, search) {\n    const capabilities = capabilityListItems;\n\n    capabilities.forEach(function(capability) {\n        capability.style.display = 'block';\n    });\n\n    if (!search) {\n        return;\n    }\n\n    capabilities.forEach(function(capability) {\n        const text = capability.textContent.toLowerCase();\n        const match = text.indexOf(search) !== -1;\n        capability.style.display = match ? 'block' : 'none';\n    });\n}\n\n/**\n * Quick filter for list items\n * @param {String} searchFormSelector Search form selector, expects single element\n * @param {String} listItemsSelector List items selector, expects multiple elements\n * @param {String} wrapperSelector Wrapper selector, expects single element\n * @returns {void}\n */\nfunction quickFilter(searchFormSelector, listItemsSelector, wrapperSelector) {\n\n    const capabilitySearch = document.querySelector(searchFormSelector);\n    const capabilityListItems = document.querySelectorAll(listItemsSelector);\n    const wrapper = document.querySelector(wrapperSelector);\n\n    if(!capabilitySearch || !capabilityListItems) {\n        return;\n    }\n\n    capabilitySearch.addEventListener('input', (_e) => {\n        const search = capabilitySearch.value.toLowerCase();\n        if(search.length < 2) {\n            filterCapabilities(capabilityListItems, null);\n            wrapper.setAttribute('aria-expand-all', 'false');\n            return;\n        }\n        filterCapabilities(capabilityListItems, search);\n        wrapper.setAttribute('aria-expand-all', 'true');\n    });\n}\n\nexport { quickFilter };","\n/**\n * @param {PointerEvent} e \n */\nexport function deleteRole(e) {\n\n    const link = e.target;\n    const url = link.dataset.action;\n    const msg = link.dataset.confirmationmessage;\n\n    if (!confirm(msg)) {\n        return;\n    }\n\n    window.location = url;\n}\n\n/**\n * @typedef {Object} DefaultConfig\n * @property {string} deleteSelector - Selectior for the delete role button.\n *\n * @param {object} config \n */\nexport function rolesInit(config) {\n\n    const defaultConfig = {\n        deleteSelector: '.delete_role_button',\n    };\n\n    config = {\n        ...defaultConfig,\n        ...config,\n    };\n\n    const deleteLinks = document.querySelectorAll(config.deleteSelector);\n    deleteLinks.forEach(link => {\n        link.addEventListener('click', deleteRole);\n    });\n\n}","\n/**\n * \n * @param {string} capabilityListSelector \n * @param {string} accordionToggleSelector \n * @returns void\n */\nexport function capabilityToggle(capabilityListSelector, accordionToggleSelector) {\n    const capabilityList = document.querySelector(capabilityListSelector);\n\n    if (!capabilityList) {\n        return;\n    }\n\n    \n    capabilityList.addEventListener('click', function(e) {\n        const removeText = capabilityList.dataset.removeText || 'Remove';\n        const restoreText = capabilityList.dataset.restoreText || 'Restore';\n\n        if (e.target.tagName !== 'BUTTON') {\n            return;\n        }\n        const deleteName = 'delete__';\n        const parent = e.target.parentElement;\n        const checkbox = parent.querySelector('input[type=\"checkbox\"]');\n        const hidden = parent.querySelector('input[type=\"hidden\"]');\n        let name = hidden.name;\n\n        const isDelete = name.includes(deleteName);\n\n        if (isDelete) {\n            name = name.replace(deleteName, '');\n            checkbox.name = name;\n            hidden.name = name;\n            checkbox.disabled = false\n            e.target.innerHTML = removeText;\n        } else {\n            name = deleteName + name;\n            checkbox.name = name;\n            hidden.name = name;\n            checkbox.disabled = true;\n            e.target.innerHTML = restoreText;\n        }\n        console.dir({ name, checkbox, hidden, isDelete });\n    });\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../css/main.css';\n\nimport { rolesInit } from './modules/roles';\nimport { capabilitiesInit } from './modules/capabilities';\n\nwindow.addEventListener( 'load', () => {\n\trolesInit();\n\tcapabilitiesInit();\n} );\n"],"names":["toggleAccordion","toggleSelector","accordions","document","querySelectorAll","forEach","accordion","addEventListener","parent","parentElement","is_open","getAttribute","setAttribute","checkBoxName","addNewCapability","inputSelector","addBtnSelector","listSelector","input","querySelector","addBtn","capabilitiesList","reportValidity","validity","valid","name","value","trim","appendChild","createCapabilityItem","capability","capabilityList","removeText","dataset","capabilityItem","createElement","innerHTML","addCapabilityFromList","checkboxSelector","submitButtonSelector","checkBoxes","submitButton","list","console","warn","disabled","checkHasChecked","checkedCount","filter","checked","length","box","e","checkbox","capname","textContent","quickFilter","capabilityToggle","capabilitiesInit","config","defaultConfig","listItemsSelector","wrapperSelector","capabilityListSelector","capabilityListToggleSelector","accordionToggleSelector","filterCapabilities","capabilityListItems","search","capabilities","style","display","text","toLowerCase","match","indexOf","searchFormSelector","capabilitySearch","wrapper","_e","deleteRole","link","target","url","action","msg","confirmationmessage","confirm","window","location","rolesInit","deleteSelector","deleteLinks","restoreText","tagName","deleteName","hidden","isDelete","includes","replace","dir"],"sourceRoot":""}