(()=>{"use strict";function e(e){const t=e.target,i=t.dataset.action,a=t.dataset.confirmationmessage;confirm(a)&&(window.location=i)}function t(e,t){const i=e;i.forEach((function(e){e.style.display="block"})),t&&i.forEach((function(e){const i=-1!==e.textContent.toLowerCase().indexOf(t);e.style.display=i?"block":"none"}))}function i(e,t){const i=t+"[ "+e+" ]",a=document.createElement("li");return a.innerHTML=`<input type="hidden" name="${i}" value="0"> \n        <label>\n            <input type="checkbox" name="${i}" value="1">\n            ${e}\n        </label>`,a}function a(e){var a;(function(e,t,a){const l=document.querySelector(e),n=document.querySelector(t),c=document.querySelector(a);n.addEventListener("click",(function(){l.reportValidity(),l.validity.valid&&(c.appendChild(i(l.value.trim(),"role_caps")),l.value="")}))})((e={quickFilter:{inputSelector:"#capability-filter",listItemsSelector:"#capability-list li, #add-capabilities-list li",wrapperSelector:"#nav-menus-frame"},capabilityListSelector:"#capability-list",addNewCapability:{inputSelector:"#new-capability",addBtnSelector:"#add-capability"},addCapabilityFromList:{checkboxSelector:'#add-capabilities-list input[type="checkbox"]',submitButtonSelector:"#add-capabilities"},accordionToggleSelector:".arm-postbox-accordion-header",...e}).addNewCapability.inputSelector,e.addNewCapability.addBtnSelector,e.capabilityListSelector),function(e,t,a){const l=document.querySelectorAll(e),n=document.querySelector(t),c=document.querySelector(a);l&&n&&c?(n.disabled=!0,l.forEach((e=>{e.addEventListener("change",(()=>{n.disabled=!(()=>{const e=[...l].filter((e=>e.checked)).length;return console.log(e),e>0})()}))})),n.addEventListener("click",(e=>{[...l].filter((e=>e.checked)).forEach((e=>{const t=e.parentElement.textContent.trim();c.appendChild(i(t,e.name)),e.checked=!1,e.disabled=!0})),n.disabled=!0}))):console.warn("Aikon Role Manager: One or more elements not found in addCapabilityFromList()")}(e.addCapabilityFromList.checkboxSelector,e.addCapabilityFromList.submitButtonSelector,e.capabilityListSelector),function(e,i,a){const l=document.querySelector(e),n=document.querySelectorAll(i),c=document.querySelector(a);l&&n&&l.addEventListener("input",(e=>{const i=l.value.toLowerCase();if(i.length<2)return t(n,null),void c.setAttribute("aria-expand-all","false");t(n,i),c.setAttribute("aria-expand-all","true")}))}(e.quickFilter.inputSelector,e.quickFilter.listItemsSelector,e.quickFilter.wrapperSelector),a=e.accordionToggleSelector,document.querySelectorAll(a).forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement,i="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",i?"false":"true")}))}))}window.addEventListener("load",(()=>{var t;t={deleteSelector:".delete_role_button",...t},document.querySelectorAll(t.deleteSelector).forEach((t=>{t.addEventListener("click",e)})),a()}))})();